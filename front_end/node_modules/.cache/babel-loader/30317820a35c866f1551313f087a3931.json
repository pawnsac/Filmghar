{"ast":null,"code":"import _slicedToArray from\"/home/oof/Desktop/SE_Project (copy)/filmghar/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./TopRatedFilms.css';import React from'react';import{Card,Button,Row,Col,Modal}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import{Link,Redirect}from'react-router-dom';import topRated from'./Dummy(topRatedFilms).json';import{FaInfoCircle}from'react-icons/fa';import Popup from'reactjs-popup';import'reactjs-popup/dist/index.css';import VerticalModal from'./VerticalModal';import StarIcon from'@material-ui/icons/Star';// function MyVerticallyCenteredModal(props) {\n//     const {id} = useParams\n//     console.log(id);\n//     return (\n//         <Modal\n//         {...props}\n//         size=\"lg\"\n//         aria-labelledby=\"contained-modal-title-vcenter\"\n//         centered\n//         className=\"modalSize\"\n//       >\n//         <Modal.Header closeButton>\n//           <Modal.Title id=\"contained-modal-title-vcenter modalColor\">\n//             Modal heading\n//           </Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>\n//           <h4 className=\"sideDist\">{props.content.title}</h4>\n//           <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS7n2hpzE1hNzc4V7nHj_GT2CWSqtjCld0PhQ&usqp=CAU\" className=\"float-left sideDist dim\"/>\n//           <p className=\"container-75 modalText\">\n//             Cras mattis consectetur purus sit amet fermentum. Cras justo odio,\n//             dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac\n//             consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio,\n//             dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac\n//             consectetur ac, vestibulum at eros.\n//           </p>\n//           <div className=\"container-75 modalText pt-5\"><b>Genre:</b>\n//          <Row className=\"\">{props.content.genres.map((key,i) => (\n//                 <Col className=\"pt-1 offset-lg-2 mr-2 col-lg-2 modalText2 padding-0\"><button className=\"\">{key}</button></Col>\n//           ))}\n//           </Row>\n//           </div>\n//           <h6 className=\"container-75 modalText mt-3\"><b>Year: </b>{props.content.year}</h6>\n//         </Modal.Body>\n//         <Modal.Footer>\n//           <Button onClick={props.onHide}>Close</Button>\n//         </Modal.Footer>\n//       </Modal>\n//     );\n//   }\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TopRatedFilms(){var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),modalShow=_React$useState2[0],setModalShow=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),movies=_React$useState4[0],setmovies=_React$useState4[1];var fetch1=function fetch1(){fetch('api/toprated').then(function(response){return response.json();}).then(function(data){var x=data.length;var changes=data;var y=\"\";var itr=0;var actors=[];while(x!=0){x--;y=changes[x].genres;y=y.split(\",\");changes[x].genres=y;y=changes[x].actors;y=y.split(\",\");while(true){if(y[itr]==undefined){break;}actors.push(parseInt(y[itr]));itr++;}changes[x].actors=actors;actors=[];y=changes[x].images;y=y.split(\",\");changes[x].images=y;}setmovies(changes);});};fetch1();var renderCard=function renderCard(card,index){return/*#__PURE__*/_jsxs(Card,{style:{width:'16rem',position:\"relative\"},className:\"box2 rounded\",children:[/*#__PURE__*/_jsx(Link,{to:{pathname:\"/movie/\".concat(card.id),state:{referrer:card}},children:/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",style:{height:'18rem'},src:card.posterUrl})}),/*#__PURE__*/_jsxs(Card.Body,{className:\"color \",style:{height:'12rem',position:\"relative\"},children:[/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(StarIcon,{style:{color:'#D4AF37'}}),\"  \",card.rating,\" \",/*#__PURE__*/_jsx(FaInfoCircle,{color:\"white\",style:{float:\"right\"},onClick:function onClick(){return setModalShow(card.id);}})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card.Title,{className:\"text-color\",style:{position:\"absolute\"},children:card.title})})}),/*#__PURE__*/_jsx(Button,{className:\"addedbutton p-2 ml-2\",children:\"ADD TO WATCHLIST\"}),/*#__PURE__*/_jsx(VerticalModal,{content:card,show:modalShow===card.id,onHide:function onHide(){return setModalShow(0);}})]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"my-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"heading text-color\",children:\"Top Rated Films\"}),/*#__PURE__*/_jsx(\"p\",{className:\"heading text-color\",children:\"Five Top Rated films by the users of Film Ghar \"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid2 conatainer-fluid justify-content-center mx-5\",children:movies.map(renderCard)})]});};export default TopRatedFilms;","map":{"version":3,"sources":["/home/oof/Desktop/SE_Project (copy)/filmghar/front_end/src/Components/TopRatedFilms.js"],"names":["React","Card","Button","Row","Col","Modal","Link","Redirect","topRated","FaInfoCircle","Popup","VerticalModal","StarIcon","TopRatedFilms","useState","modalShow","setModalShow","movies","setmovies","fetch1","fetch","then","response","json","data","x","length","changes","y","itr","actors","genres","split","undefined","push","parseInt","images","renderCard","card","index","width","position","pathname","id","state","referrer","height","posterUrl","color","rating","float","title","map"],"mappings":"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","sourcesContent":["import './TopRatedFilms.css';\nimport React from 'react';\n\nimport {Card, Button, Row, Col, Modal} from 'react-bootstrap';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Link,Redirect} from 'react-router-dom';\nimport topRated from './Dummy(topRatedFilms).json';\n\nimport { FaInfoCircle } from 'react-icons/fa';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport VerticalModal from './VerticalModal';\nimport StarIcon from '@material-ui/icons/Star';\n\n\n// function MyVerticallyCenteredModal(props) {\n//     const {id} = useParams\n//     console.log(id);\n//     return (\n//         <Modal\n//         {...props}\n//         size=\"lg\"\n//         aria-labelledby=\"contained-modal-title-vcenter\"\n//         centered\n//         className=\"modalSize\"\n//       >\n//         <Modal.Header closeButton>\n//           <Modal.Title id=\"contained-modal-title-vcenter modalColor\">\n//             Modal heading\n//           </Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>\n//           <h4 className=\"sideDist\">{props.content.title}</h4>\n//           <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS7n2hpzE1hNzc4V7nHj_GT2CWSqtjCld0PhQ&usqp=CAU\" className=\"float-left sideDist dim\"/>\n//           <p className=\"container-75 modalText\">\n//             Cras mattis consectetur purus sit amet fermentum. Cras justo odio,\n//             dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac\n//             consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio,\n//             dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac\n//             consectetur ac, vestibulum at eros.\n//           </p>\n//           <div className=\"container-75 modalText pt-5\"><b>Genre:</b>\n//          <Row className=\"\">{props.content.genres.map((key,i) => (\n                \n//                 <Col className=\"pt-1 offset-lg-2 mr-2 col-lg-2 modalText2 padding-0\"><button className=\"\">{key}</button></Col>\n                \n//           ))}\n//           </Row>\n//           </div>\n//           <h6 className=\"container-75 modalText mt-3\"><b>Year: </b>{props.content.year}</h6>\n//         </Modal.Body>\n//         <Modal.Footer>\n//           <Button onClick={props.onHide}>Close</Button>\n//         </Modal.Footer>\n//       </Modal>\n//     );\n//   }\n\n\nfunction TopRatedFilms() {\n    const [modalShow, setModalShow] = React.useState(0);\n    const [movies, setmovies] = React.useState([]);\n\n    const fetch1 =  ()=>{\n    \n      fetch('api/toprated')\n      .then (response=>  response.json())\n      .then (data =>{\n        \n          var x = data.length\n          var changes=data\n          var y=\"\"\n          var itr=0\n          var actors=[]\n          while (x!=0){\n            x--\n            y=changes[x].genres\n            y=y.split(\",\")\n            changes[x].genres=y\n            y=changes[x].actors\n            y=y.split(\",\")\n            while(true){\n            if(y[itr]==undefined){\n              break;\n            } \n            actors.push(parseInt(y[itr]))\n            itr++\n            }\n            changes[x].actors=actors\n            actors=[]\n            y=changes[x].images\n            y=y.split(\",\")\n            changes[x].images=y\n            \n    \n          }\n          \n          setmovies(changes)\n          }\n          )\n    }\n    fetch1()\n    const renderCard = (card, index) => {\n    return (\n\n        <Card style={{ width: '16rem', position: \"relative\"}} className=\"box2 rounded\">\n        <Link\n            to={{\n            pathname: `/movie/${card.id}`,\n            state: { referrer: card }\n            }}\n            >\n  <Card.Img variant=\"top\"  style={{height: '18rem' }} src={card.posterUrl} />\n \n </Link>\n < Card.Body className=\"color \"  style={{height: '12rem' , position: \"relative\"}}>\n  <Card.Text><StarIcon  style={{color: '#D4AF37' }}/>  {card.rating} <FaInfoCircle color=\"white\"  style={{float: \"right\" }}\n  onClick={() => setModalShow(card.id)}/>\n  </Card.Text>\n\n    \n     <Row>\n         <Col>\n              <Card.Title className=\"text-color\" style = {{position: \"absolute\"}}>{card.title}</Card.Title>\n         </Col>\n         \n             \n    \n     </Row>\n\n     <Button  className = \"addedbutton p-2 ml-2\" >ADD TO WATCHLIST</Button>\n     <VerticalModal content={card}\n       show={modalShow===card.id}\n       onHide={() => setModalShow(0)}\n       />\n </Card.Body>\n{ /* <AddCircleIcon fontSize= \"large\" style={{position:\"absolute\" ,marginLeft: \"190px\",color: \"#D4AF37\"}}  />*/}\n</Card>\n\n\n\n    )}\n\n    return (\n        <div className=\"my-5\">\n    <h3 className=\"heading text-color\">Top Rated Films</h3>\n    <p className=\"heading text-color\">Five Top Rated films by the users of Film Ghar </p>\n\n    <div className=\"grid2 conatainer-fluid justify-content-center mx-5\">{movies.map(renderCard)}</div>\n        </div>\n    )};\nexport default TopRatedFilms;"]},"metadata":{},"sourceType":"module"}